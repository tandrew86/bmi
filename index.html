<!DOCTYPE html>
<html>
    <head>
        <title>Testtömegindex-kalkulátor</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/css?family=Playfair+Display" rel="stylesheet">
        <link href="main.css" rel="stylesheet" type="text/css"/>
        <script src="jquery-3.1.1.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                var userWeight,userHeight,bmi,youAreThin,youAreNormal,
                    youHaveOverweight,youAreObese;
                $('#inputContainer').on('keyup', '#weight', function () {
                    userWeight = +$(this).val();
                });
                $('#inputContainer').on('keyup', '#height', function () {
                    userHeight = +($(this).val()) / 100;
                });
                $('#inputContainer').on('click', "#submit", function (event) {
                    if (userWeight === undefined || userHeight === undefined) {
                        event.preventDefault();
                        $('.errorMessage').addClass('errorMessageShow');
                        $('.errorMessage').find('p').text("Kérlek, töltsd ki mindkét mezőt!").slideDown(1000).delay(6000).hide(1000);
                    } else if (userWeight < 5.5 || userWeight > 610) {
                        event.preventDefault();
                        $('.errorMessage').addClass('errorMessageShow');
                        $('.errorMessage').find('p').text("A megadott testsúlyod: " + userWeight + " kg.\n" +
                                "A ma élő legkönnyebb felnőtt ember 5,5 kg, a legnehezebb pedig 610 kg.\n"
                                + "Kérlek, adj meg egy valós értéket!").delay(6000).hide(1000);
                    } else if (userHeight < 0.584 || userHeight > 2.51) {
                        event.preventDefault();
                        $('.errorMessage').addClass('errorMessageShow');
                        $('.errorMessage').find('p').text("A megadott magasságod: " + userHeight * 100 + " cm.\n" +
                                "A ma élő legalacsonyabb felnőtt ember 58,4 cm, a legmagasabb pedig 251 cm.\n"
                                + "Kérlek, adj meg egy valós értéket!").delay(6000).hide(1000);
                    } else {
                        bmi = (userWeight / (userHeight * userHeight)).toFixed(2);
                        event.preventDefault();
                        (bmi < 18.5) ? youAreThin() : (bmi < 25) ? youAreNormal() : (bmi < 30) ? youHaveOverweight() : youAreObese();
                    }
                });
                $('.result').on('click', '#reloadBtn', function () {
                    window.location.reload();
                });

                youAreThin = function () {
                    $('.bmiTableElements').removeClass('thin normal overweight obese');
                    $('#bmiPics').find('#img1').addClass('thin');
                    $('.result').addClass('resultShow');
                    $('.result').find('p').text("A testtömegindexed ~" + bmi + ", ezen érték alapján sovány vagy!");
                };
                youAreNormal = function () {
                    $('.bmiTableElements').removeClass('thin normal overweight obese');
                    $('#bmiPics').find('#img2').addClass('normal');
                    $('.result').addClass('resultShow');
                    $('.result').find('p').text("A testtömegindexed ~" + bmi + ". Gratulálok, az érték az optimális tartományba esik!");
                };

                youHaveOverweight = function () {
                    $('.bmiTableElements').removeClass('thin normal overweight obese');
                    $('#bmiPics').find('#img3').addClass('overweight');
                    $('.result').addClass('resultShow');
                    $('.result').find('p').text("A testtömegindexed ~" + bmi + ". Az érték alapján túlsúlyos vagy.");
                };

                youAreObese = function () {
                    $('.bmiTableElements').removeClass('thin normal overweight obese');
                    $('#bmiPics').find('#img4').addClass('obese');
                    $('.result').addClass('resultShow');
                    $('.result').find('p').text("A testtömegindexed ~" + bmi + ", az érték alapján elhíztál. Tedd meg a szükséges lépéseket mihamarabb a testsúlyod csökkentése érdekében!");
                };
            });
        </script>
    </head>
    <body>
        <div id="inputContainer"> 
            <h1>Testtömegindex-kalkulátor</h1>
            <form>
                <p>Kérlek, add meg a testsúlyod!</p>
                <input type="number" class="inputFields" id="weight" value="" placeholder="kg">
                <p>Kérlek, add meg a magasságod!</p>
                <input type="number" class="inputFields" id="height" value="" placeholder="cm">
                <input type="submit" class="inputFields" id="submit" value="Számolj!">
            </form>
        </div>
        <div class="errorMessage">
            <p></p>
        </div>
        <div id="bmiPics">
            <table id="bmiPicsTable">
                <tr>
                    <td class="bmiTableElements" id="img1">
                        <img src="pics/thin.jpg" alt="thin"/>
                    </td>
                    <td class="bmiTableElements" id="img2">
                        <img src="pics/normal.jpg" alt="normal"/>
                    </td>
                    <td class="bmiTableElements" id="img3">
                        <img src="pics/overweight.jpg" alt="overweight"/>
                    </td>
                    <td class="bmiTableElements" id="img4">
                        <img src="pics/obese.jpg" alt="obese"/>
                    </td>
                </tr>
            </table>
        </div>
        <div class="result">
            <p></p>
            <input type="submit" id="reloadBtn" value="Újra!">
        </div>
    </body>
</html>
